<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Sample Select</title>
    <link rel="stylesheet" href="/assets/lib/fontawesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/assets/lib/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/lib/tantalim-client/public/css/common.css">
</head>
<body ng-app="tantalim.desktop" data-ng-controller="PageController">
<section class="container">
    <div id="page-body">
        <div class="page-header">
            <h1>Samples</h1>
        </div>

        <form role="form" name="TopPageForm">
            <div class="col-md-6">
                <div class="form-group">
                    <tnt-checkbox label="Required Initial True" current-instance="row" required="true" target-field="PersonTrue"></tnt-checkbox>
                </div>
                <div class="form-group">
                    <tnt-checkbox label="Not Required Initial False" current-instance="row" required="false" target-field="PersonFalse"></tnt-checkbox>
                </div>
                <div class="form-group">
                    <tnt-checkbox label="Null" current-instance="row" target-field="PersonNull"></tnt-checkbox>
                </div>
            </div>
            <div class="col-md-6">
                {{row}}
            </div>
        </form>
    </div>
</section>

<div id="3rd_party_scripts">
    <!-- Bootstrap JS -->
    <script type="text/javascript" src="/assets/lib/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="/assets/lib/bootstrap/dist/js/bootstrap.js"></script>
    <!-- Angular JS -->
    <script type="text/javascript" src="/assets/lib/angular/angular.js"></script>
    <!-- Angular UI -->
    <script type="text/javascript" src="/assets/lib/angular-bootstrap/ui-bootstrap.js"></script>
    <script type="text/javascript" src="/assets/lib/angular-bootstrap/ui-bootstrap-tpls.js"></script>

    <script type="text/javascript" src="/assets/lib/angular-ui-utils/ui-utils.js"></script>

    <!-- Other JS -->
    <script type="text/javascript" src="/assets/lib/lodash/lodash.js"></script>
</div>
<script type="text/javascript">
    angular.module('tantalim.desktop', []);


    angular.module('tantalim.desktop')
            .controller('PageController',
            function ($scope) {

                var SmartNodeInstance = function (model, row) {
                    var self = {
                        id: row.id,
                        data: row.data,
                        toggle: function (fieldName, required) {
                            var currentValue = this.data[fieldName];
                            var newValue = true;
                            if (currentValue === true) newValue = false;
                            if (currentValue === false) {
                                if (required) newValue = true;
                                else newValue = null;
                            }
                            self.update(fieldName, newValue);
                        },
                        update: function (fieldName, newValue) {
                            self.data[fieldName] = newValue;
                            self.state = 'UPDATED';
                        },
                        state: 'NO_CHANGE'
                    };
                    return self;
                };

                $scope.row = new SmartNodeInstance({}, {
                    id: 1,
                    data: {
                        PersonTrue: true,
                        PersonFalse: false,
                        PersonNull: null
                    }
                });
            });

</script>
<script type="text/javascript" src="/assets/lib/tantalim-client/public/js/page/checkbox.js"></script>
</body>
</html>
